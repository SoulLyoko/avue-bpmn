import{l as _,m as Q,n as Ue,a as je,d as U,p as Oe,q as Y,t as We,v as Ge,x,y as He,r as Ke,z as ze,A as Xe,g as Je}from"../app.4c23674a.js";function D(e,t,n=[]){var m,c,d,F,C;const{element:u,moddle:a,modeling:o,prefix:l}=e,{businessObject:r}=u.value,s=[...(d=(c=(m=r==null?void 0:r.extensionElements)==null?void 0:m.values)==null?void 0:c.filter(b=>b.$type!==l(t)))!=null?d:[],...n],p=(F=a.value)==null?void 0:F.create("bpmn:ExtensionElements",{values:s});(C=o.value)==null||C.updateProperties(u.value,{extensionElements:s.length?p:void 0})}function Qe(e,t){var i,s;const{element:n,formData:u,prefix:a}=e,{businessObject:o}=n.value,r=((s=(i=o==null?void 0:o.extensionElements)==null?void 0:i.values)!=null?s:[]).filter(p=>p.$type===a(_(t)));u.value[Q(t)]=r.map(p=>{var b;const{$attrs:{event:m},fields:c}=p,d=["class","expression","delegateExpression"].find(y=>y in p.$attrs),F=p.$attrs[d||""],C=(b=c==null?void 0:c.map(y=>{const{$attrs:{name:B}}=y,v=["string","expression"].find(ke=>ke in y),qe=y[v||""];return{fieldName:B,fieldType:v,fieldValue:qe}}))!=null?b:[];return{eventName:m,eventType:d,eventValue:F,fields:C}})}function Ye(e,t){const{moddle:n,formData:u,prefix:a}=e,l=(u.value[Q(t)]||[]).map(r=>{var d;const{eventName:i,eventType:s,eventValue:p,fields:m}=r,c=(d=m==null?void 0:m.map(F=>{var v;const{fieldName:C,fieldType:b,fieldValue:y}=F,B={name:C,[b]:y};return(v=n.value)==null?void 0:v.create(a("Field"),{...B})}))!=null?d:[];return n.value.create(a(_(t)),{event:i,[s]:p,fields:c})});D(e,_(t),l)}const Ze=e=>e?Object.entries(e).reduce((t,[n,u])=>(n=n.charAt(0).toUpperCase()+n.slice(1),n=`on${n}`,{...t,[n]:u}),{}):null,j=(e,t,n)=>{const{attrs:u,props:a,domProps:o,on:l,scopedSlots:r,...i}=t!=null?t:{},s=Ze(l),p={...i!=null?i:{},...u!=null?u:{},...a!=null?a:{},...o!=null?o:{},...s!=null?s:{}};return Ue(e,p,r||n)},Pt=(e,t)=>typeof e=="function"?e(t):e;function Z(e){var t;return(t=je)==null?void 0:t(e)}function E(e,t=[void 0,null],n=[]){const u={};for(const a in e){const o=t.every(r=>e[a]!==r),l=n.every(r=>!a.includes(r));o&&l&&(u[a]=e[a])}return u}function A(e=16,t){const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",u=t||n.length,a=[];for(let o=0;o<e;o++)a[o]=n.charAt(Math.random()*u);return a.join("")}const St=()=>{const e=`Definitions_${A(7)}`,t=`Process_${A(7)}`,n=`Event_${A(7)}`,u=`Flow_${A(7)}`,a=`Activity_${A(7)}`;return`<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
xmlns:flowable="http://flowable.org/bpmn" 
xmlns:activiti="http://activiti.org/bpmn" 
xmlns:camunda="http://camunda.org/schema/1.0/bpmn" 
id="${e}"
targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn:process id="${t}" isExecutable="true">
    <bpmn:startEvent id="${n}" name="\u5F00\u59CB">
      <bpmn:outgoing>${u}</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="${u}" sourceRef="${n}" targetRef="${a}" />
    <bpmn:userTask id="${a}" name="\u53D1\u8D77\u4EBA">
      <bpmn:incoming>${u}</bpmn:incoming>
    </bpmn:userTask>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="${t}">
      <bpmndi:BPMNEdge id="${u}_di" bpmnElement="${u}">
        <di:waypoint x="192" y="99" />
        <di:waypoint x="250" y="99" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="${n}_di" bpmnElement="${n}">
        <dc:Bounds x="156" y="81" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="163" y="124" width="22" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="${a}_di" bpmnElement="${a}">
        <dc:Bounds x="250" y="59" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>`},I={label:"",labelWidth:0,prop:"assignee",type:"dynamic",children:{rowKey:"type",addBtn:!0,column:[{label:"\u7C7B\u578B",prop:"type",type:"select",width:120,dicData:[{label:"\u7528\u6237",value:"user"},{label:"\u90E8\u95E8",value:"dept"},{label:"\u89D2\u8272",value:"role"},{label:"\u5C97\u4F4D",value:"post"},{label:"\u6307\u5B9A\u8282\u70B9",value:"userTask"},{label:"\u81EA\u5B9A\u4E49",value:"custom"}]},{label:"\u503C",prop:"value"}]},value:[],updateFormData({formData:e,businessObject:t,prefix:n}){var o,l,r;const a=((l=(o=t==null?void 0:t.extensionElements)==null?void 0:o.values)!=null?l:[]).filter(i=>i.$type===n("Assignee"));a.length?e.value.assignee=a.map(i=>E(i.$attrs,[],["$","_"])):e.value.assignee=(r=this.value)!=null?r:[]},updateProperties(e){const{formData:t,moddle:n,prefix:u}=e,{assignee:a}=t.value,o=a==null?void 0:a.map(l=>n.value.create(u("Assignee"),E(l,[],["$","_"])));D(e,"Assignee",o)}},O={label:"\u8282\u70B9id",prop:"id",updateFormData({formData:e,businessObject:t}){const{id:n}=t;e.value.id=n||""},updateProperties({formData:e,element:t,modeling:n}){var a;const{id:u}=e.value;u&&((a=n.value)==null||a.updateProperties(t.value,{id:u}))}},W={label:"\u8282\u70B9\u540D\u79F0",prop:"name",updateFormData({formData:e,businessObject:t}){const{name:n}=t;e.value.name=n||""},updateProperties({formData:e,element:t,modeling:n}){var a;const{name:u}=e.value;(a=n.value)==null||a.updateProperties(t.value,{name:u||void 0})}},G={label:"\u8282\u70B9\u63CF\u8FF0",prop:"documentation",updateFormData({formData:e,businessObject:t}){var u;const{documentation:n}=t;e.value.documentation=((u=n==null?void 0:n[0])==null?void 0:u.text)||""},updateProperties({formData:e,element:t,modeling:n,moddle:u}){var l,r;const{documentation:a}=e.value,o=(l=u.value)==null?void 0:l.create("bpmn:Documentation",{text:a});(r=n.value)==null||r.updateProperties(t.value,{documentation:a?[o]:void 0})}},h=[O,W,G],L=U({name:"BpmnText",props:{value:{type:String},modelValue:{type:String}},setup(e){return()=>j("span",{},e.value||e.modelValue)}}),ee=[{label:"\u663E\u793A",value:"true"},{label:"\u9690\u85CF",value:"false"},{label:"\u53D1\u8D77\u4EBA",value:"startUser"},{label:"\u5904\u7406\u4EBA",value:"assignee"},{label:"\u672A\u53D1\u8D77",value:"unstarted"},{label:"\u5DF2\u53D1\u8D77",value:"started"},{label:"\u672A\u529E\u7ED3",value:"unfinished"},{label:"\u5DF2\u529E\u7ED3",value:"finished"}],te=[{label:"\u4E0D\u663E\u793A",value:"false"},{label:"\u5BA1\u6279\u4EBA",value:"approver"},{label:"\u6284\u9001\u4EBA",value:"copyUser"},{label:"\u610F\u89C1",value:"comment"}],ne={label:"",labelWidth:0,prop:"button",type:"dynamic",children:{addBtn:!1,delBtn:!1,column:[{prop:"_index",hide:!0},{label:"\u5B57\u6BB5\u540D",prop:"label",width:100,component:L},{label:"\u5B57\u6BB5\u503C",prop:"prop",width:100,component:L},{label:"\u663E\u793A\u6761\u4EF6",prop:"display",type:"select",multiple:!0,dataType:"string",clearable:!0,dicData:ee},{label:"\u5BA1\u6279\u7A97\u53E3",prop:"approval",type:"select",multiple:!0,dataType:"string",clearable:!0,dicData:te}]},value:[],updateFormData({formData:e,businessObject:t,prefix:n}){var a,o,l;const u=(o=(a=t==null?void 0:t.extensionElements)==null?void 0:a.values)!=null?o:[];e.value.button=(l=this.value)==null?void 0:l.map(r=>{var p;const i=u.find(m=>m.$type===n("Button")&&m.$attrs.prop===r.prop),s=(p=i==null?void 0:i.$attrs)!=null?p:{};return{...r,...Oe(s,"display","approval")}})},updateProperties(e){const{formData:t,moddle:n,prefix:u}=e,{button:a}=t.value,o=a==null?void 0:a.map(l=>n.value.create(u("Button"),E(l,[],["$","_"])));D(e,"Button",o)}};function H(e,t={}){const n=t.eventName||[],u=t.eventType||[{label:"\u7C7B",value:"class"},{label:"\u8868\u8FBE\u5F0F",value:"expression"},{label:"\u4EE3\u7406\u8868\u8FBE\u5F0F",value:"delegateExpression"}],a=t.fieldType||[{label:"\u5B57\u7B26\u4E32",value:"string"},{label:"\u8868\u8FBE\u5F0F",value:"expression"}];return{label:"",labelWidth:0,prop:e,type:"dynamic",children:{type:"form",index:!1,column:[{label:"\u4E8B\u4EF6",prop:"eventName",type:"select",dicData:n},{label:"\u7C7B\u578B",prop:"eventType",type:"select",dicData:u},{label:"\u503C",prop:"eventValue",type:"textarea",minRows:1,span:24},{label:"\u5B57\u6BB5",prop:"fields",type:"dynamic",span:24,children:{column:[{label:"\u5B57\u6BB5\u540D",prop:"fieldName"},{label:"\u7C7B\u578B",prop:"fieldType",type:"select",dicData:a},{label:"\u503C",prop:"fieldValue"}]}}]},updateFormData(o){Qe(o,e)},updateProperties(o){Ye(o,e)}}}const R=H("executionListener",{eventName:[{label:"\u5F00\u59CB",value:"start"},{label:"\u4EFB\u52A1",value:"task"},{label:"\u7ED3\u675F",value:"end"}]}),$=U({name:"BpmnCheckbox",inheritAttrs:!1,props:{value:{type:[String,Boolean]},modelValue:{type:[String,Boolean]}},emits:{input:e=>e,"update:modelValue":e=>e},setup(e,{emit:t}){const n=Y(()=>{const a=e.modelValue;return a==="true"||a===!0}),u=Z("el-checkbox");return()=>j(u,{props:{value:n.value,modelValue:n.value},on:{input:a=>t("input",String(a)),"update:modelValue":a=>t("update:modelValue",String(a))}})}}),P={label:"",labelWidth:0,prop:"formproperty",type:"dynamic",children:{addBtn:!1,delBtn:!1,column:[{prop:"_index",hide:!0},{label:"\u5B57\u6BB5",prop:"label",component:L},{label:"\u5C5E\u6027",prop:"prop",component:L},{label:"\u663E\u793A",prop:"display",width:40,component:$},{label:"\u7981\u7528",prop:"disabled",width:40,component:$},{label:"\u8BE6\u60C5",prop:"detail",width:40,component:$},{label:"\u5FC5\u586B",prop:"required",width:40,component:$}]},value:[],updateFormData({formData:e,businessObject:t,prefix:n}){var a,o,l;const u=(o=(a=t==null?void 0:t.extensionElements)==null?void 0:a.values)!=null?o:[];e.value.formproperty=(l=this.value)==null?void 0:l.map(r=>{var m;const i=u.find(c=>c.$type===n("Formproperty")&&c.$attrs.prop===r.prop),s=(m=i==null?void 0:i.$attrs)!=null?m:{};return{...r,...We(s,["label","prop"])}})},updateProperties(e){const{formData:t,moddle:n,prefix:u}=e,{formproperty:a}=t.value,o=a==null?void 0:a.map(l=>n.value.create(u("Formproperty"),E(l,[],["$","_"])));D(e,"Formproperty",o)}},ae={label:"\u591A\u5B9E\u4F8B\u7C7B\u578B",prop:"multiInstanceType",type:"select",dicData:[{label:"\u5E76\u884C\u591A\u91CD\u4E8B\u4EF6",value:"parallel"},{label:"\u65F6\u5E8F\u591A\u91CD\u4E8B\u4EF6",value:"sequential"},{label:"\u5FAA\u73AF",value:"standard"}],value:{completionCondition:"",collection:"",elementVariable:""},updateFormData({formData:e,businessObject:t}){const{loopCharacteristics:n}=t;n?n.$type==="bpmn:MultiInstanceLoopCharacteristics"?e.value.multiInstanceType=n.isSequential?"sequential":"parallel":n.$type==="bpmn:StandardLoopCharacteristics"?e.value.multiInstanceType="standard":e.value.multiInstanceType="":e.value.multiInstanceType=""},updateProperties({formData:e,element:t,modeling:n,moddle:u}){var i,s;const{multiInstanceType:a}=e.value,l={parallel:["bpmn:MultiInstanceLoopCharacteristics"],sequential:["bpmn:MultiInstanceLoopCharacteristics",{isSequential:!0}],standard:["bpmn:StandardLoopCharacteristics"]}[a],r=l?(i=u.value)==null?void 0:i.create(...l):void 0;(s=n.value)==null||s.updateProperties(t.value,{loopCharacteristics:r}),r?(e.value.completionCondition=e.value.completionCondition||this.value.completionCondition,e.value.collection=e.value.collection||this.value.collection,e.value.elementVariable=e.value.elementVariable||this.value.elementVariable):(e.value.completionCondition="",e.value.collection="",e.value.elementVariable="")}},ue={label:"\u5B8C\u6210\u6761\u4EF6",prop:"completionCondition",value:"",updateFormData({formData:e,businessObject:t}){var u;const{loopCharacteristics:n}=t;n?e.value.completionCondition=((u=n.completionCondition)==null?void 0:u.body)||this.value:e.value.completionCondition=""},updateProperties({formData:e,businessObject:t,element:n,modeling:u,moddle:a}){var l,r;const{loopCharacteristics:o}=t;if(o){const{completionCondition:i}=e.value,s=(l=a.value)==null?void 0:l.create("bpmn:FormalExpression",{body:i});o.completionCondition=s,(r=u.value)==null||r.updateProperties(n.value,{loopCharacteristics:o})}}},oe={label:"\u96C6\u5408",prop:"collection",value:"",updateFormData({formData:e,businessObject:t,prefix:n}){const{loopCharacteristics:u}=t;if(u){const a=u.$attrs[n("collection")];e.value.collection=a||this.value}else e.value.collection=""},updateProperties({formData:e,element:t,businessObject:n,modeling:u,prefix:a}){var l;const{loopCharacteristics:o}=n;if(o){const{collection:r}=e.value;o.$attrs[a("collection")]=r,(l=u.value)==null||l.updateProperties(t.value,{loopCharacteristics:o})}}},le={label:"\u5143\u7D20\u53D8\u91CF",prop:"elementVariable",value:"",updateFormData({formData:e,businessObject:t,prefix:n}){const{loopCharacteristics:u}=t;if(u){const a=u.$attrs[n("elementVariable")];e.value.elementVariable=a||this.value}else e.value.elementVariable=""},updateProperties({formData:e,element:t,businessObject:n,modeling:u,prefix:a}){var l;const{loopCharacteristics:o}=n;if(o){const{elementVariable:r}=e.value;o.$attrs[a("elementVariable")]=r,(l=u.value)==null||l.updateProperties(t.value,{loopCharacteristics:o})}}},q=[ae,ue,oe,le];function et(){return Ge("modelerState")}var tt={exports:{}};(function(e,t){(function(n,u){u()})(x,function(){function n(s,p){return typeof p=="undefined"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}function u(s,p,m){var c=new XMLHttpRequest;c.open("GET",s),c.responseType="blob",c.onload=function(){i(c.response,p,m)},c.onerror=function(){console.error("could not download file")},c.send()}function a(s){var p=new XMLHttpRequest;p.open("HEAD",s,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function o(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(p)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof x=="object"&&x.global===x?x:void 0,r=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(s,p,m){var c=l.URL||l.webkitURL,d=document.createElement("a");p=p||s.name||"download",d.download=p,d.rel="noopener",typeof s=="string"?(d.href=s,d.origin===location.origin?o(d):a(d.href)?u(s,p,m):o(d,d.target="_blank")):(d.href=c.createObjectURL(s),setTimeout(function(){c.revokeObjectURL(d.href)},4e4),setTimeout(function(){o(d)},0))}:"msSaveOrOpenBlob"in navigator?function(s,p,m){if(p=p||s.name||"download",typeof s!="string")navigator.msSaveOrOpenBlob(n(s,m),p);else if(a(s))u(s,p,m);else{var c=document.createElement("a");c.href=s,c.target="_blank",setTimeout(function(){o(c)})}}:function(s,p,m,c){if(c=c||open("","_blank"),c&&(c.document.title=c.document.body.innerText="downloading..."),typeof s=="string")return u(s,p,m);var d=s.type==="application/octet-stream",F=/constructor/i.test(l.HTMLElement)||l.safari,C=/CriOS\/[\d]+/.test(navigator.userAgent);if((C||d&&F||r)&&typeof FileReader!="undefined"){var b=new FileReader;b.onloadend=function(){var v=b.result;v=C?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=v:location=v,c=null},b.readAsDataURL(s)}else{var y=l.URL||l.webkitURL,B=y.createObjectURL(s);c?c.location=B:location.href=B,c=null,setTimeout(function(){y.revokeObjectURL(B)},4e4)}});l.saveAs=i.saveAs=i,e.exports=i})})(tt);const re=U({name:"BpmnSelect",inheritAttrs:!1,props:{modeler:{type:Object},filterType:{type:String}},setup(e,{attrs:t,listeners:n}){const u=Y(()=>{var i,s;const o=et(),l=e.modeler||o.modeler.value,r=l==null?void 0:l.get("elementRegistry");return(s=(i=r==null?void 0:r.filter(p=>e.filterType?p.type===e.filterType:!0))==null?void 0:i.map(({businessObject:p})=>{const{name:m,id:c}=p;return{label:m||c,value:c}}))!=null?s:[]}),a=Z("avue-select");return()=>j(a,{props:{...t,dic:u.value},on:{...n}})}}),se={...O,label:"\u6D41\u7A0B\u6807\u8BC6"},ie={...W,label:"\u6D41\u7A0B\u540D\u79F0"},pe={...G,label:"\u6D41\u7A0B\u63CF\u8FF0"},ce={label:"\u6D41\u7A0B\u5206\u7C7B",prop:"category",updateFormData({formData:e,$attrs:t}){const{category:n}=t;e.value.category=n||""},updateProperties({formData:e,element:t,modeling:n}){var a;const{category:u}=e.value;(a=n.value)==null||a.updateProperties(t.value,{category:u||void 0})}},me={label:"\u56FE\u6807",prop:"icon"},de={label:"\u8DF3\u8FC7\u7B2C\u4E00\u8282\u70B9",prop:"skipFirstNode",type:"switch",labelWidth:100,value:"true",dicData:[{label:"\u5426",value:"false"},{label:"\u662F",value:"true"}]},fe={label:"\u9ED8\u8BA4\u9A73\u56DE\u8282\u70B9",prop:"rollbackNode",type:"select",labelWidth:100,component:re,params:{filterType:"bpmn:UserTask"}},ve=[se,ie,pe,ce,me,de,fe],g={label:"",labelWidth:0,prop:"property",type:"dynamic",children:{column:[{label:"\u5C5E\u6027\u540D",prop:"name"},{label:"\u5C5E\u6027\u503C",prop:"value",type:"textarea",minRows:1}]},value:[],updateFormData({formData:e,businessObject:t,prefix:n}){var o,l,r;const a=((l=(o=t==null?void 0:t.extensionElements)==null?void 0:o.values)!=null?l:[]).filter(i=>i.$type===n("Property"));a.length?e.value.property=a.map(i=>E(i.$attrs,[],["$","_"])):e.value.property=(r=this.value)!=null?r:[]},updateProperties(e){const{formData:t,moddle:n,prefix:u}=e,{property:a}=t.value,o=a==null?void 0:a.map(l=>n.value.create(u("Property"),E(l,[],["$","_"])));D(e,"Property",o)}},be={label:"\u6D41\u7C7B\u578B",prop:"flowType",type:"select",dicData:[{label:"\u5E8F\u5217\u6D41",value:"sequence"},{label:"\u9ED8\u8BA4\u6D41",value:"default"},{label:"\u6761\u4EF6\u6D41",value:"conditional"}],updateFormData({formData:e,businessObject:t}){const{conditionExpression:n}=t;n?e.value.flowType="conditional":t.sourceRef.default?e.value.flowType="default":e.value.flowType="sequence"},updateProperties({formData:e,element:t,moddle:n,modeling:u}){var r,i,s,p,m,c;const a=t.value;if(a.source.type==="bpmn:StartEvent")return;const{flowType:o,id:l}=e.value;if(o==="conditional"){const d=(r=n.value)==null?void 0:r.create("bpmn:FormalExpression");(i=u.value)==null||i.updateProperties(a,{conditionExpression:d}),e.value.conditionExpression=e.value.conditionExpression||`\${condition=="${l}"}`}else o==="default"?((s=u.value)==null||s.updateProperties(a.source,{default:a}),(p=u.value)==null||p.updateProperties(a,{conditionExpression:void 0}),e.value.conditionExpression=""):((m=u.value)==null||m.updateProperties(a.source,{default:void 0}),(c=u.value)==null||c.updateProperties(a,{conditionExpression:void 0}),e.value.conditionExpression="")}},ye={label:"\u6761\u4EF6\u8868\u8FBE\u5F0F",prop:"conditionExpression",updateFormData({formData:e,businessObject:t}){const{conditionExpression:n,id:u}=t;n?e.value.conditionExpression=n.body||`\${condition=="${u}"}`:e.value.conditionExpression=""},updateProperties({formData:e,element:t,moddle:n,modeling:u,businessObject:a}){var o,l;if(a.conditionExpression){const{conditionExpression:r}=e.value,i=(o=n.value)==null?void 0:o.create("bpmn:FormalExpression",{body:r});(l=u.value)==null||l.updateProperties(t.value,{conditionExpression:i})}}},Ee=[be,ye],Ce={label:"",labelWidth:0,prop:"serial",type:"dynamic",children:{addBtn:!1,delBtn:!1,index:!1,type:"form",column:[{label:"\u540D\u79F0",prop:"name"},{label:"\u524D\u7F00",prop:"prefix"},{label:"\u65E5\u671F\u683C\u5F0F",prop:"dateFormat"},{label:"\u540E\u7F00\u4F4D\u6570",prop:"suffixLength"},{label:"\u521D\u59CB\u6570\u503C",prop:"startSequence"},{label:"\u8FDE\u63A5\u7B26",prop:"connector"},{label:"\u91CD\u7F6E\u5468\u671F",prop:"cycle",type:"select",dicData:[{label:"\u4E0D\u91CD\u7F6E",value:"none"},{label:"\u6309\u5929\u91CD\u7F6E",value:"day"},{label:"\u6309\u5468\u91CD\u7F6E",value:"week"},{label:"\u6309\u6708\u91CD\u7F6E",value:"month"},{label:"\u6309\u5E74\u91CD\u7F6E",value:"year"}]}]},value:[{name:"",prefix:"",dateFormat:"",suffixLength:"",startSequence:"",connector:"",cycle:""}],updateFormData({formData:e,businessObject:t,prefix:n}){var o,l,r;const a=((l=(o=t==null?void 0:t.extensionElements)==null?void 0:o.values)!=null?l:[]).filter(i=>i.$type===n("Serial"));a.length?e.value.serial=a.map(i=>E(i.$attrs,[],["$","_"])):e.value.serial=(r=this.value)!=null?r:[]},updateProperties(e){const{formData:t,moddle:n,prefix:u}=e,{serial:a}=t.value,o=a==null?void 0:a.map(l=>n.value.create(u("Serial"),E(l,[],["$","_"])));D(e,"Serial",o)}},Fe={label:"\u7C7B",prop:"class"},he={label:"\u5F02\u6B65",prop:"async",type:"switch",dicData:[{label:"\u5426",value:"false"},{label:"\u662F",value:"true"}]},Be=[Fe,he],ge=H("taskListener",{eventName:[{label:"\u521B\u5EFA",value:"create"},{label:"\u6307\u6D3E",value:"assignment"},{label:"\u5B8C\u6210",value:"complete"},{label:"\u5220\u9664",value:"delete"},{label:"\u66F4\u65B0",value:"update"},{label:"\u8D85\u65F6",value:"timeout"}]}),De={label:"",labelWidth:0,prop:"timelimit",type:"dynamic",children:{column:[{label:"\u540D\u79F0",prop:"name"},{label:"\u6700\u5C0F\u503C",prop:"min",type:"number"},{label:"\u6700\u5927\u503C",prop:"max",type:"number"}]},value:[],updateFormData({formData:e,businessObject:t,prefix:n}){var o,l,r;const a=((l=(o=t==null?void 0:t.extensionElements)==null?void 0:o.values)!=null?l:[]).filter(i=>i.$type===n("Timelimit"));a.length?e.value.timelimit=a.map(i=>E(i.$attrs,[],["$","_"])):e.value.timelimit=(r=this.value)!=null?r:[]},updateProperties(e){const{formData:t,moddle:n,prefix:u}=e,{timelimit:a}=t.value,o=a==null?void 0:a.map(l=>n.value.create(u("Timelimit"),E(l,[],["$","_"])));D(e,"Timelimit",o)}},we={label:"\u4F18\u5148\u7EA7",prop:"priority"},xe={label:"\u9A73\u56DE\u8282\u70B9",prop:"rollbackNode",type:"select",component:re,params:{filterType:"bpmn:UserTask"}},Ae={label:"\u91CD\u65B0\u63D0\u4EA4\u540E\u56DE\u5230\u9A73\u56DE\u4EBA",prop:"backToRejecter",type:"switch",dicData:[{label:"\u5426",value:"false"},{label:"\u662F",value:"true"}]},Te=[we,xe,Ae],nt=[{label:"\u57FA\u672C\u914D\u7F6E",prop:"base",column:h}],at={"bpmn:StartEvent":[{label:"\u57FA\u672C\u914D\u7F6E",prop:"base",column:h},{label:"\u8868\u5355\u914D\u7F6E",prop:"formproperty",collapse:!1,column:[P]},{label:"\u6269\u5C55\u5C5E\u6027",prop:"property",collapse:!1,column:[g]}],"bpmn:EndEvent":[{label:"\u57FA\u672C\u914D\u7F6E",prop:"base",column:h},{label:"\u8868\u5355\u914D\u7F6E",prop:"formproperty",collapse:!1,column:[P]},{label:"\u6269\u5C55\u5C5E\u6027",prop:"property",collapse:!1,column:[g]},{label:"\u6267\u884C\u76D1\u542C",prop:"executionListener",collapse:!1,column:[R]}],"bpmn:Process":[{label:"\u6D41\u7A0B\u914D\u7F6E",prop:"base",column:ve},{label:"\u6D41\u6C34\u53F7\u914D\u7F6E",prop:"serial",collapse:!1,column:[Ce]},{label:"\u6269\u5C55\u5C5E\u6027",prop:"property",collapse:!1,column:[g]}],"bpmn:UserTask":[{label:"\u57FA\u672C\u914D\u7F6E",prop:"base",column:[...h,...Te]},{label:"\u4EBA\u5458\u914D\u7F6E",prop:"assignee",collapse:!1,column:[I]},{label:"\u591A\u5B9E\u4F8B\u914D\u7F6E",prop:"multiInstance",collapse:!1,column:q},{label:"\u6309\u94AE\u914D\u7F6E",prop:"button",collapse:!1,column:[ne]},{label:"\u8868\u5355\u914D\u7F6E",prop:"formproperty",collapse:!1,column:[P]},{label:"\u4EFB\u52A1\u76D1\u542C",prop:"taskListener",collapse:!1,column:[ge]},{label:"\u6267\u884C\u76D1\u542C",prop:"executionListener",collapse:!1,column:[R]},{label:"\u65F6\u9650\u63A7\u5236",prop:"timelimit",collapse:!1,column:[De]},{label:"\u6269\u5C55\u5C5E\u6027",prop:"property",collapse:!1,column:[g]}],"bpmn:ServiceTask":[{label:"\u57FA\u672C\u914D\u7F6E",prop:"base",column:h},{label:"\u670D\u52A1\u914D\u7F6E",prop:"service",collapse:!1,column:Be}],"bpmn:SequenceFlow":[{label:"\u57FA\u672C\u914D\u7F6E",prop:"base",column:h},{label:"\u6761\u4EF6\u914D\u7F6E",prop:"sequenceFlow",collapse:!1,column:Ee},{label:"\u6269\u5C55\u5C5E\u6027",prop:"property",collapse:!1,column:[g]}],"bpmn:SubProcess":[{label:"\u57FA\u672C\u914D\u7F6E",prop:"base",column:h},{label:"\u4EBA\u5458\u914D\u7F6E",prop:"assignee",collapse:!1,column:[I]},{label:"\u591A\u5B9E\u4F8B\u914D\u7F6E",prop:"multiInstance",collapse:!1,column:q},{label:"\u6269\u5C55\u5C5E\u6027",prop:"property",collapse:!1,column:[g]}]};var ut=Object.freeze(Object.defineProperty({__proto__:null,defaultGroup:nt,defaultOptions:at,assigneeColumn:I,idColumn:O,nameColumn:W,documentationColumn:G,baseColumns:h,flowButtonDisplayDict:ee,flowButtonApprovalDict:te,buttonColumn:ne,executionListenerColumn:R,formpropertyColumn:P,useListenerColumn:H,multiInstanceTypeColumn:ae,completionConditionColumn:ue,collectionColumn:oe,elementVariableColumn:le,multiInstanceColumns:q,processIdColumn:se,processNameColumn:ie,processDocumentationColumn:pe,processCategoryColumn:ce,processIconColumn:me,processSkipFirstNodeColumn:de,processRollbackNodeColumn:fe,processColumns:ve,propertyColumn:g,flowTypeColumn:be,conditionExpressionColumn:ye,sequenceFlowColumns:Ee,serialColumn:Ce,classColumn:Fe,asyncColumn:he,serviceTaskColumns:Be,taskListenerColumn:ge,timelimitColumn:De,priorityColumn:we,rollbackNodeColumn:xe,backToRejecterColumn:Ae,userTaskColumns:Te},Symbol.toStringTag,{value:"Module"}));function Nt(){const e=He({...ut}),t=Ke(e.defaultOptions);return{options:t,update:u=>{Object.entries(u).forEach(([a,o])=>{const[l,...r]=a.split(".");return o instanceof Function?ze(e[l],r,o):Xe(e[l],r,o)}),t.value=e.defaultOptions}}}function ot(e){return Array.prototype.concat.apply([],e)}var T=Object.prototype.toString,lt=Object.prototype.hasOwnProperty;function w(e){return e===void 0}function $e(e){return e!==void 0}function K(e){return e==null}function M(e){return T.call(e)==="[object Array]"}function S(e){return T.call(e)==="[object Object]"}function rt(e){return T.call(e)==="[object Number]"}function z(e){var t=T.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"||t==="[object Proxy]"}function st(e){return T.call(e)==="[object String]"}function Pe(e){if(!M(e))throw new Error("must supply array")}function Se(e,t){return lt.call(e,t)}function Ne(e,t){t=J(t);var n;return f(e,function(u,a){if(t(u,a))return n=u,!1}),n}function it(e,t){t=J(t);var n=M(e)?-1:void 0;return f(e,function(u,a){if(t(u,a))return n=a,!1}),n}function pt(e,t){var n=[];return f(e,function(u,a){t(u,a)&&n.push(u)}),n}function f(e,t){var n,u;if(!w(e)){var a=M(e)?Ct:Et;for(var o in e)if(Se(e,o)&&(n=e[o],u=t(n,a(o)),u===!1))return n}}function ct(e,t){return w(e)?[]:(Pe(e),t=J(t),e.filter(function(n,u){return!t(n,u)}))}function Le(e,t,n){return f(e,function(u,a){n=t(n,u,a)}),n}function Me(e,t){return!!Le(e,function(n,u,a){return n&&t(u,a)},!0)}function mt(e,t){return!!Ne(e,t)}function V(e,t){var n=[];return f(e,function(u,a){n.push(t(u,a))}),n}function Ve(e){return e&&Object.keys(e)||[]}function dt(e){return Ve(e).length}function ft(e){return V(e,function(t){return t})}function _e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=X(t),f(e,function(u){var a=t(u)||"_",o=n[a];o||(o=n[a]=[]),o.push(u)}),n}function Ie(e){e=X(e);for(var t={},n=arguments.length,u=new Array(n>1?n-1:0),a=1;a<n;a++)u[a-1]=arguments[a];f(u,function(l){return _e(l,e,t)});var o=V(t,function(l,r){return l[0]});return o}var vt=Ie;function bt(e,t){t=X(t);var n=[];return f(e,function(u,a){for(var o=t(u,a),l={d:o,v:u},r=0;r<n.length;r++){var i=n[r].d;if(o<i){n.splice(r,0,l);return}}n.push(l)}),V(n,function(u){return u.v})}function yt(e){return function(t){return Me(e,function(n,u){return t[u]===n})}}function X(e){return z(e)?e:function(t){return t[e]}}function J(e){return z(e)?e:function(t){return t===e}}function Et(e){return e}function Ct(e){return Number(e)}function Ft(e,t){var n,u,a,o;function l(m){var c=Date.now(),d=m?0:o+t-c;if(d>0)return r(d);e.apply(a,u),i()}function r(m){n=setTimeout(l,m)}function i(){n&&clearTimeout(n),n=o=u=a=void 0}function s(){n&&l(!0),i()}function p(){o=Date.now();for(var m=arguments.length,c=new Array(m),d=0;d<m;d++)c[d]=arguments[d];u=c,a=this,n||r(t)}return p.flush=s,p.cancel=i,p}function ht(e,t){var n=!1;return function(){n||(e.apply(void 0,arguments),n=!0,setTimeout(function(){n=!1},t))}}function Bt(e,t){return e.bind(t)}function N(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?N=function(t){return typeof t}:N=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(e)}function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},k.apply(this,arguments)}function gt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),u=1;u<t;u++)n[u-1]=arguments[u];return k.apply(void 0,[e].concat(n))}function Dt(e,t,n){var u=e;return f(t,function(a,o){if(typeof a!="number"&&typeof a!="string")throw new Error("illegal key type: "+N(a)+". Key should be of type number or string.");if(a==="constructor")throw new Error("illegal key: constructor");if(a==="__proto__")throw new Error("illegal key: __proto__");var l=t[o+1],r=u[a];$e(l)&&K(r)&&(r=u[a]=isNaN(+l)?{}:[]),w(l)?w(n)?delete u[a]:u[a]=n:u=r}),e}function wt(e,t,n){var u=e;return f(t,function(a){if(K(u))return u=void 0,!1;u=u[a]}),w(u)?n:u}function xt(e,t){var n={},u=Object(e);return f(t,function(a){a in u&&(n[a]=e[a])}),n}function At(e,t){var n={},u=Object(e);return f(u,function(a,o){t.indexOf(o)===-1&&(n[o]=a)}),n}function Re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),u=1;u<t;u++)n[u-1]=arguments[u];return n.length&&f(n,function(a){!a||!S(a)||f(a,function(o,l){if(l!=="__proto__"){var r=e[l];S(o)?(S(r)||(r={}),e[l]=Re(r,o)):e[l]=o}})}),e}var Tt=Object.freeze(Object.defineProperty({__proto__:null,assign:gt,bind:Bt,debounce:Ft,ensureArray:Pe,every:Me,filter:pt,find:Ne,findIndex:it,flatten:ot,forEach:f,get:wt,groupBy:_e,has:Se,isArray:M,isDefined:$e,isFunction:z,isNil:K,isNumber:rt,isObject:S,isString:st,isUndefined:w,keys:Ve,map:V,matchPattern:yt,merge:Re,omit:At,pick:xt,reduce:Le,set:Dt,size:dt,some:mt,sortBy:bt,throttle:ht,unionBy:vt,uniqueBy:Ie,values:ft,without:ct},Symbol.toStringTag,{value:"Module"})),Lt=Je(Tt);export{te as $,xt as A,it as B,Se as C,mt as D,V as E,tt as F,At as G,yt as H,dt as I,ot as J,ft as K,K as L,Ie as M,vt as N,Ve as O,ct as P,nt as Q,re as R,$ as S,L as T,et as U,at as V,I as W,O as X,W as Y,G as Z,ee as _,ie as a,ne as a0,R as a1,P as a2,H as a3,ae as a4,ue as a5,oe as a6,le as a7,q as a8,pe as a9,ce as aa,me as ab,de as ac,fe as ad,ve as ae,g as af,be as ag,ye as ah,Ee as ai,Ce as aj,Fe as ak,he as al,Be as am,ge as an,De as ao,we as ap,xe as aq,Ae as ar,Te as as,D as at,Qe as au,Ye as av,Ze as aw,E as ax,A as ay,h as b,Z as c,St as d,pt as e,f,Ne as g,j as h,M as i,rt as j,S as k,_e as l,gt as m,w as n,Le as o,se as p,Me as q,Lt as r,Pt as s,bt as t,Nt as u,Ft as v,Bt as w,$e as x,z as y,st as z};
